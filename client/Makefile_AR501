SYSTEM_INCLUDES=`echo                                               \
          `

VENDOR="ar501"

SYSTEM_IMPL="ar501_system"
TIME_IMPL="ar501_time"
NETWORK_COMMUNICATION_IMPL="ar501_gsm"
FS_COMMUNICATION_IMPL=""
MODBUS_COMMAND_COMMUNICATION_IMPL=""
SERIAL_LOGGER_COMMUNICATION_IMPL="ar501_serial_logger"

EXTRA_SOURCES=`echo													\
			  src/vendors/ar501/tiva_startup_gcc`

EXTRA_OBJECT_FILES=`echo														\
					src/vendors/ar501/*.obj 									\
					../embedded-flash-environment/tivaware/driverlib/gcc/*.o	`

MAIN_CLASS="device"

#################################################################
MCU="TM4C123GH6PM"
TIVAWARE_PATH="../embedded-flash-environment/tivaware"
#################################################################

#COMPILE_COMMAND="../embedded-flash-environment/gcc-arm-none-eabi-4_9-2015q2/bin/arm-none-eabi-gcc  -g -mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -Os -ffunction-sections -fdata-sections -MD -std=c99 -Wall -pedantic -DPART_${MCU} -c -I${TIVAWARE_PATH} -DTARGET_IS_BLIZZARD_RA1 -fshort-wchar "

#"-mfloat-abi=softfp" removed, "-mfloat-abi=hard" added
COMPILE_COMMAND="../embedded-flash-environment/gcc-arm-none-eabi-4_9-2015q2/bin/arm-none-eabi-gcc  -g -mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -Os -ffunction-sections -fdata-sections -MD -std=c99 -Wall -pedantic -DPART_${MCU} -c -I${TIVAWARE_PATH} -DTARGET_IS_BLIZZARD_RA1 -fshort-wchar "


#################################################################
LD_SCRIPT="../embedded-flash-environment/tiva-template/${MCU}.ld"
#################################################################

#LINK_COMMAND="../embedded-flash-environment/gcc-arm-none-eabi-4_9-2015q2/bin/arm-none-eabi-ld -T ${LD_SCRIPT} --entry ResetISR --gc-sections "
LINK_COMMAND="../embedded-flash-environment/gcc-arm-none-eabi-4_9-2015q2/bin/arm-none-eabi-gcc -T ${LD_SCRIPT} --entry ResetISR -mfloat-abi=hard -Wl,--gc-sections "

declare -a FINAL_COMMANDS=("../embedded-flash-environment/gcc-arm-none-eabi-4_9-2015q2/bin/arm-none-eabi-objcopy -O binary build/${VENDOR}/instamsg build/${VENDOR}/instamsg_to_flash" "../embedded-flash-environment/lm4tools/lm4flash/lm4flash instamsg_to_flash")
